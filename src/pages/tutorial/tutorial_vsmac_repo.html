---
layout: docpage
menu0: tutorials
menu1: mdd
menu2: vsmac
---

<div class=lz-r-content>
    <h3>Implement PetStore application repository</h3>
    <p>In most applications we have a persistence layer, often called the repository layer. In this
        tutorial we create a PetStoreRepo project to use DynamoDB to store our data. Since our 
        PetStoreRepo will use  AWS DynamoDB, we use the LazyStackDynamoDBRepo library 
        that implements generic Create, Read, Update, Delete and List (CRUDL) operations on the 
        Amazon DynamoDB. This library is also available as a NuGet package.
    </p>

    <h4>3.1 Create the PetStoreRepo project</h4>
    <ol>
        <li>Create PetStoreRepo project from "Web and Console &rightarrow; Library &rightarrow; Class Library" template.
            <ol type="a">
                <li>Right Click on Solution PetStore item in the solution explorer. The context menu appears.</li>
                <li>Select the Add &RightArrow; New Project context menu item. The "Choose a template for your new 
                    project" dialog appears.</li>
                <li>Select the "Web and Console &rightarrow; Library &rightarrow; Class Library" project template.</li>
                <li>Click the Next button. The next page in the "Configure your new project" dialog appears.</li>
                <li>Set the Target Framework to ".NET Core 3.1" and press the Next button. The next page appears.</li>
                <li>Enter "PetStoreRepo" as the project name.</li>
                <li>Click the Create button. The project is created with a default class Class1.cs.</li>
            </ol>
        </li>
        <li>Add Project Dependencies
            <ol type="a">
                <li>Open the PetStoreRepo.csproj file.</li>
                <li>Copy the following ItemGroup into the .csproj file.
                    <pre><code class="language-bash">
    &lt;ItemGroup>
        &lt;ProjectReference Include="..\..\LazyStack\LazyStackDynamoDBRepo\LazyStackDynamoDBRepo.csproj" />
        &lt;ProjectReference Include="..\PetStoreSchema\PetStoreSchema.csproj" />
    &lt;/ItemGroup>
                    </code></pre>
                </li>
                <li>Save the file.</li>
            </ol>
        <li>Delete the Class1.cs file from the PetStoreRepo project.</li>
        <li>Right Click on the PetStoreRepo project. The context menu appears.</li>
        <li>Select Add &RightArrow; New Folder. A "New Folder" is created in the project.</li>
        <li>Enter "Models" as the folder name.</li>
        <li>Click on the following class files to download them and then move them into the Models folder.
            <ul>
                <li><a href="/assets/tutorial/code/PetStoreRepo/CategoryRepo.cs" download>CategoryRepo.cs</a></li>
                <li><a href="/assets/tutorial/code/PetStoreRepo/OrderRepo.cs" download>OrderRepo.cs</a></li>
                <li><a href="/assets/tutorial/code/PetStoreRepo/PetRepo.cs" download>PetRepo.cs</a></li>
                <li><a href="/assets/tutorial/code/PetStoreRepo/TagRepo.cs" download>TagRepo.cs</a></li>
            </ul>
        </li>
        <li>Build the project. The project builds successfully.</li>
    </ol>
    <p>Note the reference to the LazyStackDynamoDBRepo.csproj residing in the LazyStack repository 
        we cloned in the first step of this tutorial. In a production app you might choose to reference 
        the corresponding NuGet package instead. 
    </p>
    <h4>Step Summary</h4>
    <p>In this step we created the PetStoreRepo project by:</p>
    <ul>
        <li>Creating a PetStoreRepo project using the Class Library template.</li>
        <li>Adding classes for Categories, Orders, Pets and Tags.</li>
        <li>Referencing the LazyStackDynamoDBRepo project.</li>
    </ul>
    {{>btmspacer}}
</div>