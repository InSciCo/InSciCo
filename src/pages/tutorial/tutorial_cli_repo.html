---
layout: docpage
menu0: tutorials
menu1: mdd
menu2: cli
---

<div class=lz-r-content>
    <h3>Implement PetStore application repository</h3>
    <p>In most applications we have a persistence layer, often called the repository layer. In this
        tutorial we create a PetStoreRepo project to use DynamoDB to store our data. Since our 
        PetStoreRepo will use  AWS DynamoDB, we use the LazyStackDynamoDBRepo NuGet package 
        that implements generic Create, Read, Update, Delete and List (CRUDL) operations on the 
        Amazon DynamoDB. 
    </p>
    <h4>3.1 Create the PetStoreRepo project</h4>
    <ol>
        <li>CD into the solution folder (LazyStackTutorial\PetStore).</li>
        <li>Create PetStoreRepo project from "C# Class Library (.NET Core)" template.
        <pre><code class="language-shellsession">dotnet new classlib -o PetStoreRepo</code></pre>
        Windows: <pre><code class="language-shellsession">dotnet sln add PetStoreRepo\PetStoreRepo.csproj</code></pre>
        MacOS/Linux: <pre><code class="language-shellsession">dotnet sln add PetStoreRepo/PetStoreRepo.csproj</code></pre>
            You now have a PetStoreRepo C# Class Lib project in your solution.
        </li>
        <li>Replaced the contents of the PetStoreRepo.csproj with this content
<pre><code class="language-xml">&lt;Project Sdk="Microsoft.NET.Sdk">
    &lt;PropertyGroup>
        &lt;TargetFramework>netcoreapp3.1&lt;/TargetFramework>
    &lt;/PropertyGroup>

    &lt;ItemGroup>
        &lt;ProjectReference Include="..\..\LazyStack\LazyStackDynamoDBRepo\LazyStackDynamoDBRepo.csproj" />
        &lt;ProjectReference Include="..\PetStoreSchema\PetStoreSchema.csproj" />
    &lt;/ItemGroup>

&lt;/Project></code></pre>
Note the TargetFramework is "netcoreapp3.1".
        </li>
        <li>Delete the Class1.cs file from the PetStoreRepo project.</li>
        <li>Create a PetStoreRepo\Models folder.</li>
        <li>Click on the following class files to download them and then move them into the Models folder.
            <ul>
                <li><a href="/assets/tutorial/code/PetStoreRepo/CategoryRepo.cs" download="CategoryRepo.cs">CategoryRepo.cs</a></li>
                <li><a href="/assets/tutorial/code/PetStoreRepo/OrderRepo.cs" download="OrderRepo.cs">OrderRepo.cs</a></li>
                <li><a href="/assets/tutorial/code/PetStoreRepo/PetRepo.cs" download="PetRepo.cs">PetRepo.cs</a></li>
                <li><a href="/assets/tutorial/code/PetStoreRepo/TagRepo.cs" download="TagRepo.cs">TagRepo.cs</a></li>
            </ul>
        </li>
        <li>CD into the solution folder (LazyStackTutorial\PetStore) and Build the solution.
            <pre><code class="language-bash">dotnet build</code></pre>
                The solution compiles successfully.
        </li>               
    </ol>
    <p>Note the reference to the LazyStackDynamoDBRepo.csproj residing in the LazyStack repository 
        we cloned in the first step of this tutorial. In a production app you might choose to reference 
        the corresponding NuGet package instead. 
    </p>    
    <h4>Step Summary</h4>
    <p>In this step we implemented the PetStoreRepo project by:</p>
    <ul>
        <li>Creating a PetStoreRepo project using the C# Class(.NET Core) Library template.</li>
        <li>Modifying the project to target netcoreapp3.1 instead of net5</li>
        <li>Referencing the LazyStackDynamoDBRepo NuGet package generated controller projects.</li>
        <li>Implementing the PetStoreRepo repository logic with the CategoryRepo.cs, OrderRepo.cs, PetRepo.cs and 
            TagRepo.cs files.
        </li>
    </ul>
    {{>btmspacer}}
</div>