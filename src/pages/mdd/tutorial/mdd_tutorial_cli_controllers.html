---
layout: docpage
menu0: mdd
menu1: tutorials
menu2: cli
---

<div class=lz-r-content>
    <h3>Implement PetStore application Controllers</h3>
    <p>In this lesson step we will add controller logic to the Controller projects in the PetStore solution.
        Controller Implementation projects implement an interface generated by LazyStack to service 
        Lambda events. Controller Implementation methods implement business logic, usually calling the 
        repository project to perform CRUDL operations on persistent data. It is not unusual for Controller 
        Implementation methods to call other libraries required by your application.
     </p>

    <h4>4.1 Create the  OrderControllerImpl project</h4>
    <ol>
        <li>CD into the solution folder (LazyStackTutorial\PetStore).</li>
        <li>Create PetStoreRepo project from "C# Class Library (.NET Core)" template.
        Windows:<pre><code class="language-shellsession">dotnet new classlib -o Controllers\OrderControllerImpl</code></pre>
        MacOS/Linus: <pre><code class="language-shellsession">dotnet new classlib -o Controllers/OrderControllerImpl</code></pre>
        Windows: <pre><code class="language-shellsession">dotnet sln add Controllers\OrderControllerImpl\OrderControllerImpl.csproj</code></pre>
        MacOS/Linux: <pre><code class="language-shellsession">dotnet sln add Controllers/OrderControllerImpl/OrderControllerImpl.csproj</code></pre>
            You now have a OrderControllerImpl C# Class Lib project in your solution.
        </li>
        <li>Replaced the contents of the OrderControllerImpl.csproj with this content
<pre><code class="language-xml">&lt;Project Sdk="Microsoft.NET.Sdk">
  &lt;PropertyGroup>
    &lt;TargetFramework>net6.0&lt;/TargetFramework>
    &lt;ImplicitUsings>enable&lt;/ImplicitUsings>
    &lt;Nullable>enable&lt;/Nullable>
  &lt;/PropertyGroup>

  &lt;ItemGroup>
      &lt;ProjectReference Include="..\..\PetStoreRepo\PetStoreRepo.csproj" />
      &lt;ProjectReference Include="..\OrderController\OrderController.csproj" />
  &lt;/ItemGroup>
&lt;/Project></code></pre>
        </li>
        <li>Add Class File
            <ol type="a">
                <li>Delete the Class1.cs file from the project.</li>
                <li>Click on the following class file to download it and then move it into the 
                    project folder.
                    <ul>
                        <li><a href="/assets/tutorial/code/OrderControllerImpl/OrderControllerImpl.cs" download>OrderControllerImpl.cs</a></li>
                    </ul>
                </li>
            </ol>
        <li>CD into the solution folder (LazyStackTutorial\PetStore) and Build the solution.
            <pre><code class="language-bash">dotnet build</code></pre>
                The solution compiles successfully.
        </li>               
    </ol>

    <h4>4.2 Create the  PetControllerImpl project</h4>
    <ol>
        <li>CD into the solution folder (LazyStackTutorial\PetStore).</li>
        <li>Create PetStoreRepo project from "C# Class Library (.NET Core)" template.
        Windows:<pre><code class="language-shellsession">dotnet new classlib -o Controllers\PetControllerImpl</code></pre>
        MacOS/Linus: <pre><code class="language-shellsession">dotnet new classlib -o Controllers/PetControllerImpl</code></pre>
        Windows: <pre><code class="language-shellsession">dotnet sln add Controllers\PetControllerImpl\PetControllerImpl.csproj</code></pre>
        MacOS/Linux: <pre><code class="language-shellsession">dotnet sln add Controllers/PetControllerImpl/PetControllerImpl.csproj</code></pre>
            You now have a PetControllerImpl C# Class Lib project in your solution.
        </li>
        <li>Replaced the contents of the PetControllerImpl.csproj with this content
<pre><code class="language-xml">&lt;Project Sdk="Microsoft.NET.Sdk">
    &lt;PropertyGroup>
      &lt;TargetFramework>net6.0&lt;/TargetFramework>
      &lt;ImplicitUsings>enable&lt;/ImplicitUsings>
      &lt;Nullable>enable&lt;/Nullable>
    &lt;/PropertyGroup>
  
    &lt;ItemGroup>
        &lt;ProjectReference Include="..\..\PetStoreRepo\PetStoreRepo.csproj" />
        &lt;ProjectReference Include="..\OrderController\OrderController.csproj" />
    &lt;/ItemGroup>
  
&lt;/Project></code></pre>
Note the TargetFramework is "netcoreapp3.1".
        </li>
        <li>Add Class File
            <ol type="a">
                <li>Delete the Class1.cs file from the project.</li>
                <li>Click on the following class file to download it and then move it into the 
                    project folder.
                    <ul>
                        <li><a href="/assets/tutorial/code/PetControllerImpl/PetControllerImpl.cs" download>PetControllerImpl.cs</a></li>
                    </ul>
                </li>
            </ol>
        <li>CD into the solution folder (LazyStackTutorial\PetStore) and Build the solution.
            <pre><code class="language-bash">dotnet build</code></pre>
                The solution compiles successfully.
        </li>               
    </ol>

        
    <h4>Step Summary</h4>
    <p>In this step we implemented the PetStoreRepo project by:</p>
    <ul>
        <li>Creating a PetStoreRepo project using the C# Class(.NET Core) Library template.</li>
        <li>Modifying the project to target netcoreapp3.1 instead of net5</li>
        <li>Referencing the LazyStackDynamoDBRepo NuGet package generated controller projects.</li>
        <li>Implementing the PetStoreRepo repository logic with the CategoryRepo.cs, OrderRepo.cs, PetRepo.cs and 
            TagRepo.cs files.
        </li>
    </ul>
    {{>btmspacer}}
</div>