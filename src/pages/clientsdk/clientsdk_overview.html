---
layout: docpage
menu0: userguide 
menu1: sdk
---

<div class=lz-r-content>
    <h3>ClientSDK</h3>
    <p>LazyStack generates C# and TypeScript clients using the <a href="https://docs.microsoft.com/en-us/aspnet/core/tutorials/getting-started-with-nswag?view=aspnetcore-5.0&tabs=visual-studio"{{>newtab}}>NSwag</a> library and by performing some post processing 
        on the files generated by NSwag.</p>
    <h4>C# ClientSDK</h4>
    <p>LazyStack generates the application {appName}ClientSDK library project and the {appName}Schema library project. 
    </p>
    <p>Use the C# ClientSDK library, along with the LazyStackAuth library, in your client application to make secure calls 
        against your AWS Application Stack. Consider the following diagram of the PetStore application.</p>
    <img src="/assets/img/ClientSDK_Overview.svg" width="100%"/>
    <p></p>
    <p>A normal NSwag client library would include both the methods and data classes. We generate two separate libraries 
        because the Schema library is used by both the client and server code. This Schema library only contains data object 
        classes for information exchanged among the client and API Gateways.
    </p>

    <h4>TypeScript Libraries</h4>
    <p>LazyStack optionally generates a solution and file system folder, called TypeScriptClientLibs, containing one or more TypeScript libraries 
        of the following types:
        <ul>
            <li>Angular</li>
            <li>AngularJS</li>
            <li>Aurelia</li>
            <li>Axios</li>
            <li>Fetch</li>
            <li>JQueryCallbacks</li>
            <li>JQueryPromises</li>
        </ul>
    </p>
    <p>See the <a href="https://github.com/RicoSuter/NSwag"{{newtab}}>NSwag</a> documentation for more information about these libraries 
        and our <a href="/userguide/generator_typescriptclients.html"{{newtab}}>user guide</a> for how to use LazyStack directives 
        to specify which TypeScript library to generate.</p>

    <p>For web apps, it is generally accepted practice to use the AWS-Amplify libraries for calling AWS Services. Amplify makes authenticating 
        users against AWS Cognito easy. AWS Amplify also provides ready-to-use UI Components for popular frameworks like React, React Native, 
        Angular, Vue, Ionic and Next.js.
    </p>

    <p>AWS Amplify includes the an API class which is used to make secure calls against API Gateways. Under the covers, the Amplify API class 
        uses Axios to make http requests.
    </p>

    <p>Since LazyStack uses NSwag to generate the TypeScript ClientSDK, you don't need to use the Amplify API class to make http requests.
        Although not required, we recommend using the Axios option when generating your TypeScript ClientSDK to reduce the libraries code
        packed in your SPA.</p>
    
    <p>Unlike the C# ClientSDK, we don't split the data classes out into a separate library.</p>

    <p></p>

    <h4>Supporting Configuration Files Used by ClientSDKs</h4>
    <p>Both the C# and TypeScript ClientSDK libraries are configured using two generated configuration files:</p>
        <ul>
            <li>
                <p>AwsSettings.json: This <a href="/clientsdk/clientsdk_awssettings.html"{{>newtab}}>configuration</a>
                    file contains the information necessary to connect to the AWS Serverless Stack. For developer accounts,  
                    this file is generated by the LazyStack tool Generate\Stacks\Dev\AwsSettings command. For CI/CD 
                    pipelines, this file is generated by LazyStackSMF utilities. There is also a LazyStack repo 
                    LazyStackGetSettings project for your reference and possible use in hand rolled CI/CD pipeline work.
               </p>
   
            </li>
         <li>
            <p>MethodMap.json: This file is generated file contains a map of methods to ApiGateways that 
                the ClientSDK uses to direct calls to the ApiGateway servicing each method. This file is regenerated 
                each time the LazyStack generate process is performed.
            </p>
        </li>
    </ul>
    <p>For C# clients these two files are generally used as embedded resources.</p>
    <p>For Web App clients these two files are copied into into the SPA src folder and bundled 
        with your SPA.</p>
    <h4>LazyStackAuth</h4>

        <p>The AWS Cognito Authentication C# libraries are rather involved and require a substantial time investment
            to master. They are also 100% AWS specific and do not attempt to present a generalized process. On the 
            other hand, these Cognito libraries are robust and implement a well known challenge/response pattern. The 
            LazyStackAuth library wraps the AWS Cognito authentication libraries with a fully generalized 
            challenge/response model that provides for the implementation of other authentication providers or 
            for extensions to the the Cognito authentication process.
        </p>
        <p>The LazyStackAuth project is available as a NuGet package, a LazyStack template project and 
            as a MIT licensed source project in the LazyStackLibs GitHub repository. 
        It provides a generalized challenge/response based user management library that uses the 
        Amazon.Extension.CognitoAuthentication library to make calls against the 
        Cognito authentication service. Note that it also calls AWS STS to get temporary credentials if necessary.</p>

        <p>See the detailed documentation for <a  href="/libraries/lazystackauth/lazystackauth_lazystackauth.html"{{>newtab}}>LazyStackAuth</a> for
            more information.</p>
            
    {{>btmspacer}}
</div>