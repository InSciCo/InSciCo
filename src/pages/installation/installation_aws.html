---
layout: docpage
section: Install
topic: GettingStarted
---
{{> installation_menu}}
<div class=lz-r-content>
    <h3>Configure LazyStack Software Management Framework (SMF)</h4>

        <p>The installation of the SMF is broken up into four steps. To get started with LazyStack, you should create
            your AWS Organization (Step 1) and Create your first Developer Account (Step 2). You can
            proceed with the LazyStack Tutorial after these two steps are complete.
        </p>
        <p>LazyStack assumes you will manage each serverless stack's code in a GitHub repository. Once you create a 
            stack repository and have tested it using a Developer's account, you Create a System Test Account (Step 3) to 
            publish versions of the stack, containing new features and bug fixes, for review and test purposes. These 
            test stacks are based on the GitHub Pull Request (PR) feature branch so we call them a "PR stack". LazyStack 
            installs a AWS CodeBuild project to build, test and publish each PR stack when the PR is created or updated. 
            Another AWS Codebuild project is installed that deletes the PR stack when the PR is closed (feature merged 
            into the repository main branch). You may have more than one PR open at the same time, so there may be 
            more than one PR stack in the associated System Test Account.
        </p>
        <p>Once you are ready to publish your stack to production, you Create a System Production Account (Step 4) to
            publish the main branch of your stack's GitHub repository in a System Production Account. LazyStack installs 
            a AWS CodeBuild project to create/update the production stack when new features are merged into the main 
            branch of the repository. 
        </p>

        <p>We use the term "System" to mean a collection of resources managed in an AWS Account. LazyStack makes 
            provisions for having multiple serverless stacks in a system and multiple systems in an organization.</p>

        <h4>Steps to Configure your AWS Organization</h4>
        <ul>
            <li>Step 1 - Configure Management Workstation and Create AWS Organization</li>
            <li>Step 2 - Create Developer Account(s)</li>
            <li>Steps dependant on GitHub Repository Integration
                <ul>
                    <li>Step 3 - Create a System Test Account with CI/CD</li>
                    <li>Step 4 - Create a System Prod Account with CD</li>
                </ul>
            </li>
        </ul>
        <p>Read the following overview of these steps before performing any of these detailed step instructions.</p>

        <h5>Step 1 - Configure Management Workstation and Create AWS Organization</h5>
        <p>Use the instructions in Step 1 to create and configure a management workstation, and your initial AWS
            Organization containing:</p>
        <ul>
            <li>AWS Management Account</li>
            <li>Development Organizational Unit - OrgDevOU<br>
                Developer accounts will be grouped under this Organizational Unit.</li>
            <li>Test Organizational Unit - OrgTestOU<br>
                Test accounts will be grouped under this Organizational Unit
            </li>
            <li>Production Organizational Unit - OrgProdOU<br>
                Production accounts will be grouped under this Organizational Unit</li>
        </ul>
        <p>After this step is complete you will have an AWS Organization that looks like this:</p>
        <img src="/assets/img/LazyStackSMF0.svg" width="600">
        <p></p>
        <p>AWS Accounts will be grouped under these Organizational Units (OU) to allow
            consistent application of AWS Policies across all accounts grouped under the OU.</p>


        <h5>Step 2 - Create Developer Account(s)</h5>
        <p> Use these instructions to provision a new developer account you manage. After
            a developer account is created, the developer uses the new account credentials to perform a
            Development Workstation Setup. Developer Workstations can be associated with more than one
            AWS Organization Application.
        </p>
        <p>After you add your first developer account your developer can
            start building and testing stacks in their own account.</p>

        <img src="/assets/img/LazyStackSMF1.svg" width="600">
        <p></p>
        <p>After completing this step your developer can configure their developer workstation and perform the 
            LazyStack tutorial.
        </p>

        <h5>Step 3 - Create a System Test Account with Continuous Integration and Continuous Deployment</h5>
        <p>Use the instructions in Step 3 to create a system test account. A system is comprised of one or more
            serverless
            stacks. The newly created system test account will be part of the OrgTestOU. Your OrgTestOU may contain
            more than one system test account. Generally, you create system test accounts to isolate and separately
            manage the AWS resources in that system.</p>
            
        <p>Before creating a system test account, review the <a href="#github">GitHub Integration and Collaboration</a> section.</p>

        <ul>
            <li>Step 3.1 Setup Continuous Integration / Continuous Deployment for System Test Account Stacks<br>
                When a GitHub pull request (PR) is created or updated, the PR code is built, tested and
                published
                as a test stack for review. When the PR is merged, the test stack is deleted. CI/CD is
                implemented
                using AWS CodeBuild projects triggered with GitHub Webhooks on Pull Request changes.
            </li>
        </ul>

        <p>After you add a System Test Account with a stack, your AWS Organization looks like this:</p>
        <img src="/assets/img/LazyStackSMF2.svg" width="600">
        <p></p>
 
        <h5>Step 4 - Create a System Production Account with Continuous Deployment</h5>
        <p>Use these instructions to create a system production account. A system is comprised of one or more
            serverless
            stacks. The newly created system test account will be part of the OrgProdOU. Your OrgProdOU may contain
            more than one system production account. Generally, you create system production accounts to isolate and
            separately
            manage the AWS resources in that system.</p>

        <p>Before creating a system production account, review the <a href="#github">GitHub Integration and Collaboration</a> section.</p>


        <ul>
            <li>Step 4.1 Setup Continuous Deployment for System Production Account Stacks<br>
                When a GitHub pull request (PR) is merged, the main branch code is built and the production
                stack is published/updated.</li>
        </ul>
        <p>A fully configured AWS Organization with a single developer, and one system containing a single
            stack would
            look like this:</p>
        <img src="/assets/img/LazyStackSMF3.svg" width="600">

        <p></p>
        <p id="github"></p>
        <h4>GitHub Integration and Development Collaboration</h4>
        <p>The Create a System Test Account (Step 3) and Create a System Prod Account (Step 4) steps assume you
            have a GitHub repository containing a serverless stack's source code and are using GitHub 
            Pull Requests (PR)s and the Git Feature Branch Workflow to manage the collaborative development of 
            that stack.
        </p> 

        <p>The diagram below illustrates the process when using the Visual Studio IDE (Windows) GitHub integration 
            and GitHub Pull Requests UI perform create/merge/delete on Git branches.
        </p>

        <img src="/assets/img/SDLCFeatureflowVSIDEOverview.svg">
        <p></p>
        <p>The diagrams below illustrates the detailed <code class="language-bashshell">git</code> commands and GitHub
            Pull Requests UI perform create/merge/delete on Git branches. These commands are hidden from the
            developer when using the Visual Studio IDE and GitHub PR Merge process. You will need these commands
            if you are working in the .NET CLI with no IDE.
        </p>
        <img src="/assets/img/SDLCFeatureflow.svg">
        <p></p>


</div>