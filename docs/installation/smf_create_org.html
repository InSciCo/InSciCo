<!doctype html>
<html class="no-js" lang="en">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta property='og:title' content='LazyStack.io'/>
    <meta property='og:image' content='https://lazystack.io/assets/img/ThreeGreatTechnologies.png'/>
    <meta property='og:description' content='LazyStack is a tool that ingests an OpenApi (swagger) REST API specification and generates the AWS Server Application Model (SAM) template and the C# AWS Lambda projects necessary to stand up a fully featured commercial-grade application stack in AWS. It also generates a client application SDK making it simple to call that stack from C# applications.'/>
    <meta property='og:url' content='https://lazystack.io'/>    

    <title>LazyStack</title>
    <link rel="stylesheet" href="/assets/css/app.css">
    <link href="/assets/prism/prism.css" rel="stylesheet" />
    <link href="/assets/prism/prismoverride.css" rel="stylesheet" />
    <link href="/assets/theme/lessons.css" rel="stylesheet"/>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
   
    <script>
        $(document).ready(function () {
            $("#smf_create_org").addClass("is-active");
            console.log("hello");
        });
    </script>
</head>

<body class="docpage">
 
    <div class=bigcenter-outter>

        <div class=bigcenter-inner>
            <div id="bg-fill-1" style="position:fixed;top: 0px; background-color:#181525;; height: 100vh; width: 100vw; z-index: initial;"></div>
            <div id="bg-fill-2" style="position:fixed;top: 129px; background-image: linear-gradient(#181525,#443d6e); height: calc(100vh - 120px); width: 100vw; z-index: initial;"></div>
            <div id="hacky-corner-cover" style="position:fixed;top: 129px; background-color:#181525; height: 34px; width: 100vw; z-index: 2;"></div>
            <img id="bg-header-img" class="lz-r-banner-img" src="/assets/img/pic12.jpg">
            <div id="hacky-corner-cover-2" style="position:fixed;top: 0px; background-color:#181525; height: 34px; width: 100vw; z-index: 2;"></div>
            <img id="bg-header-img" class="lz-r-banner-img" src="/assets/img/pic12.jpg">
            
            <div style="position: fixed;top:-36px;z-index: 4;">
                
                <!--
                <div style="position:relative;top:5px;left:30px; top: 4px;border: .125rem solid;border-radius: 13px;background-color: rgba(0, 0, 0, .71);padding: 6px 0px 2px 0px;">
                    <h1 style="font-size: 32px;color: rgba(180, 23, 186, 1);font-family: 'Arial Black', 'Arial Bold', Gadget, sans-serif;margin-left: 17px;margin-right: 17px;">LazyStack</h1>
                </div>
                -->
                
                <div class="cell shrink header medium-cell-block-container">
                
                    <div id="header-banner" style="position: relative;height:129px">
                    </div>
                
                    <div style=
                        "position:fixed; 
                        top: 17px;
                        left: 16px;
                        border: .125rem solid;
                        border-radius: 13px;
                        background-color: rgba(0, 0, 0, .71);
                        width: auto;
                        padding: 2px 10px 7px 10px;
                        ">
                        <span style=
                            "font-size: 32px;
                            font-family: 'Arial Black', 'Arial Bold', Gadget, sans-serif;
                            color: rgba(180, 23, 186, 1);
                            ">
                
                            <img src="/assets/img/lazyface.png" style="max-height: 45px; margin-top: -5px;"/>  
                
                            <span style="margin-left: -5px;">LazyStack</span>
                        </span>
                    </div>
                
                </div>                <div class="title-bar lz-r-sitemenu hamburger" data-responsive-toggle="sitemenu-collapse"
                  data-hide-for="medium">
                  <button class="menu-icon" type="button" data-toggle></button>
                  <div class="title-bar-title" style="padding-left: 8px;">Install</div>
                </div>
                
                <div class="top-bar fast lz-r-sitemenu dropdown outer" id="sitemenu-collapse" data-animate="slide-in-down slide-out-up">
                    <ul class="vertical medium-horizontal menu dropdown inner">
                
                      <li  id="index">
                        <a href="/index.html"><span class="">Home</span></a>
                      </li>
                
                      <li id="introdocs" >
                        <a href="/intro/intro.html">
                          <span class="">Introduction</span></a>
                      </li>
                
                      <li id="installation">
                        <a href="/installation/installation_overview.html">
                          <span class="lz-r-sectionitem">Install</span>
                        </a>
                      </li>
                
                      <li id="tutorialdocs">
                        <a href="/tutorial/tutorial_intro.html">
                          <span class="">Tutorial</span>
                        </a>
                      </li>
                
                      <li id="userguide">
                        <a href="/userguide/userguide_overview.html">
                            <span class="">User Guide</span>
                        </a>
                      </li>
                
                      <li id="roadmap">
                        <a href="/roadmap/roadmap_overview.html">
                            <span class="">RoadMap</span>
                        </a>
                      </li>
                
                      <li id="contact">
                        <a href="/contact/contact_contact.html">
                            <span class="">Contact</span>
                        </a>
                      </li>
                    </ul>
                
                
                
                </div>            </div>
            <div class=lz-r-legal-notice style="max-width:1500px;">
                <div style="display:flex; width: 150px;justify-content: space-between;">
                    <a href="/privacy.html" class=text-item-L>Privacy</a>
                </div>
                <p class=text-item-R>Â© 2021, Insight Sciences Corp or its affiliates. All rights reserved.</p>
            </div>            <!-- Note the body partial must be inserted at the leftmost column to avoid indent issue with code blocks -->
<div class="title-bar lz-r-topicmenu hamburger" data-responsive-toggle="topics-collapse" data-hide-for="medium">
    <button class="menu-icon" type="button" data-toggle></button>
    <div class="title-bar-title">GettingStarted</div>
</div>

<div class="top-bar fast lz-r-topicmenu dropdown outer" id="topics-collapse" data-animate="slide-in-down slide-out-up"  style="white-space: nowrap">
    <ul class="vertical menu dropdown manual-list">

        <li>
            <a href="/installation/installation_overview.html">
                <span class="">Overview</span>
            </a>
        </li>

        <li>
            <a href="/installation/smf_overview.html">
                <span class="">Configure LazyStack SMF</span>
            </a>
        </li>

        <div style="display: inline">
            <ul>


                <li>
                    <a href="/installation/smf_create_org_checklist.html"> 
                        <span class="">
                            Preparation Checklist</span>
                    </a>
                </li>
    


                <li>
                    <a href="/installation/smf_create_github_acct.html"> 
                        <span class="">1) 
                            Create GitHub Account</span>
                    </a>
                </li>

                <li>
                    <a href="/installation/smf_config_mgmt_workstation.html"> 
                        <span class="">2) 
                            Configure Workstation</span>
                    </a>
                </li>
                
                <li>
                    <a href="/installation/smf_create_mgmt_acct.html"> 
                        <span class="">3) 
                            AWS Mgmt. 
                            Acct.</span>
                    </a>
                </li>

                <li>
                    <a href="/installation/smf_create_org.html"> 
                        <span class="lz-r-topicitem">4)
                            Create AWS Org.</span>
                    </a>
                </li>


                <li>
                    <a href="/installation/smf_create_dev_acct.html"> 
                        <span class=""> 
                            5) Create Dev Account(s)</span>
                    </a>
                </li>



                <li>
                    <a href="/installation/installation_awsdepguide.html"> 
                        <span class="">Deployment
                            Summary</span>
                    </a>
                </li>
           </ul>
        </div>
        <li>
            <a href="/installation/devtools_config_dev_ws.html">
                <span class="">Configure Developer
                    Workstation</span>
            </a>
        </li>

        <div style="display: none">
            <ul>
                <li>
                    <a href="/installation/devtools_config_dev_profile.html"> 
                        <span class="">
                            1) Config Dev Profile</span>
                    </a>
                </li>


                <li>
                    <a href="/installation/devtools_netcore_cli.html">
                        <span class="">
                            2) .NET CLI Tool</span>
                    </a>
                </li>

                <li>
                    <a href="/installation/devtools_visualstudio.html">
                        <span>3) Visual Studio IDE</span>
                    </a>
                </li>

                <ul>
                    <li>
                        <a href="/installation/devtools_visualstudio.html">
                            <span class="">
                                3.1) VS IDE Windows</span>
                        </a>
                    </li>

                    <li>
                        <a href="/installation/devtools_visualstudio_mac.html">
                            <span class="">
                                3.2) VS IDE MacOS</span>
                        </a>
                    </li>
                </ul>
            </ul>
        </div>

    </ul>
</div><div class=lz-r-content>
    <h4>Steps 4) Create AWS Organization</h4>
    <dl>
        <dt>Prerequisites: AWS Management Account Setup Complete</dt>
        <dt>Estimated Time: 5 minutes</dt>
        <dt>Estimated Cost: none</dt>
        <dt>Perform this step on the Management Workstation.</dt>
    </dl>

    <p>In this step we will use the LazyStackSMF.ps1 script to create an AWS Organization, 
        AWS Organizational Units, and AWS Tutorial System Accounts with CI/CD pipelines.
    </p>
    <h5>Configuration Steps</h5>
    <ol>
        <li>Open a PowerShell terminal.</li>
        <br>
        <li>CD into the LayStackSettings folder.</li>
        <br>
        <li>Issue the following command:
            <pre><code class="language-bashshell">..\LazyStackSMF\LzConfigure.ps1</code></pre>
            You will be prompted for the following:
            <ul>
                <li>OrgCode</li>
                <li>AWS Management Account Profile</li>
                <li>AWS Region</li>
                <li>GitHub Organization Name</li>
                <li>GitHub PetStore repository</li>
                <li>GitHub LazyStackSMF repository</li>
                <li>Email address for Tutorial System Test AWS Account</li>
                <li>Email address for Tutorial System Production AWS Account</li>
            </ul>
            <br>
            <h5>What to do if the script fails?</h5>
            <p>We have written the script to be fault tolerant. If you get an error, you should 
                receive a meaningful error message and the script will stop. You can then address 
                the underlying issue and re-run the script, it will pick up where it left off.
                
                If you get an error when running the script, it is most likely going to be because 
                of one of the following issues:
            </p>
            <ul>
                <li>AWS Management Account doesn't have appropriate permissions. This can happen when 
                    you are using an existing account instead of creating one from scratch using the 
                    the setup instructions in SMF Step 3.
                </li>
                <li>You have exceeded the maximum number of accounts allowed in the AWS Organization. 
                    By default, AWS sets this maximum at 4. You may request additional accounts. If 
                    you are using LazyStack SMF to create a new AWS organization from scratch, you 
                    should not see this issue during the initial Setup.
                </li>
                <li>Non-unique email address. Every AWS must have a unique email address. If you  
                    supply an email address that has already been used (in the last 90 days) for an 
                    account, the account creation process will fail.
                </li>
            </ul>
            <p>For more details on how this script works, visit the <a href="/userguide/smf_lzconfigure.html"target="_blank" rel="noopener noreferrer">LazyStackSMF Script</a> 
                User Guide section.
            </p>            
            <br>
            Here is an example of running the script:
            <pre><code class="language-bashshell">LzConfigure.ps1 V1.0.0
Use this script to setup and manage your LazyStackSMF Organization
Creating new SMF settings file:
   Please enter OrgCode: LzStk
   Enter AWS CLI Managment Account (default: LzStkMgmt):
   Enter AWS Region (us-east-1):
   Enter your GitHub Management Acct Name: LzStkAdmin
   Enter your GitHub Organization Name: LzStk
   Tutorial Repo (default: https://github.com/LzStk/Petstore.git):
   LazyStack Util Repo (default: https://github.com/LzStk/LazyStackSmfUtil.git):
OrgCode: LzStk
AWS Management Account: LzStkMgmt
Checking AWS Configuration
  - No AWS Organization Found for the LzStkMgmt account.
  - We need to create one to continue installation.
  Create AWS Organization? (Y/n): y
  - AWS Organization Created for the LzStkMgmt account.
  - AWS OrgUnits
    - Creating OrgUnit DevOU
    - Creating OrgUnit TestOU
    - Creating OrgUnit ProdOU

  - Systems
    - System: Tut (Tutorial System)
      - Accounts
        - Account: LzStkTutTest
          Note: An email address can only be associated with one AWS Account.
          Enter unique email for Test System Account: LzStkTutTest@LzStk.net
          - Creating System Account: LzStkTutTest
          - Checking for successful account creation. TryCount=1
          - LzStkTutTest account creation successful. AccountId: 541943406928
          - Moving LzStkTutTest account to Test Organizational Unit
          - Adding or Updating LzStkTutTestAccessRole profile and associating it with the LzStkMgmt profile.
          - Creating Administrators group in the LzStkTutTest account.
          - Adding AdministratorAccess Policy to Administrators group
          - Creating IAM User LzStkTutTestIAM in LzStkTutTest account.
          - Writing the IAM User Credentials into LzStkTutTestIAM_credentials.txt
          - Adding IAM User LzStkTutTestIAM to the LzStkTutTest Account Administrators group.
          - Updating AWS CodeBuild GitHub Credentials


        - Account: LzStkTutProd
          Note: An email address can only be associated with one AWS Account.
          Enter unique email for Prod System Account: LzStkTutProd@LzStk.net
          - Creating System Account: LzStkTutProd
          - Checking for successful account creation. TryCount=1
          - LzStkTutProd account creation successful. AccountId: 630416782635
          - Moving LzStkTutProd account to Prod Organizational Unit
          - Adding or Updating LzStkTutProdAccessRole profile and associating it with the LzStkMgmt profile.
          - Creating Administrators group in the LzStkTutProd account.
          - Adding AdministratorAccess Policy to Administrators group
          - Creating IAM User LzStkTutProdIAM in LzStkTutProd account.
          - Writing the IAM User Credentials into LzStkTutProdIAM_credentials.txt
          - Adding IAM User LzStkTutProdIAM to the LzStkTutProd Account Administrators group.
          - Updating AWS CodeBuild GitHub Credentials

Deploy Pipelines? (Y/n):
PipeLine Deployments
  - Pipeline: Test_PR_Create in Account  Test
... 
  - Pipeline: Test_PR_Merge in Account  Test
...
  - Pipeline: Prod_PR_Merge in Account  Prod</code></pre>
</li>
</ol>
<h5>Step Summary</h5>
<p>In this step we created our AWS Organization, AWS Organizational Units, 
and AWS Tutorial System Accounts with CI/CD pipelines.
</p>

</div>
            <div id=hacky-privacy-spacer></div>
            <script src="/assets/js/app.js"></script>
            <script src="/assets/prism/prism.js"></script>
 
        </div>
    </div>

</body>

</html>